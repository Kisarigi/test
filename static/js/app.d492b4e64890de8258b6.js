webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=s("VU/8")({name:"app"},i,!1,function(t){s("q/Cf")},null,null).exports,o=s("/ocq"),c=s("2sCs"),r=s.n(c),l=s("9rMa");n.default.use(l.a);var h=new l.a.Store({state:{articleId:"",showSide:!1,homeHidden:!1,currentIndex:-1,topThemes:[],themeList:[],article:[],themeListId:0,articleInfo:[]},getters:{},mutations:{setArticleId:function(t,e){t.articleId=e},setThemeListId:function(t,e){t.themeListId=e},setShowSideBar:function(t){t.showSide=!t.showSide},setHomeHidden:function(t){t.homeHidden=!t.homeHidden},setCurrentIndex:function(t,e){t.currentIndex=e},setTopThemes:function(t,e){t.topThemes=e},setArticle:function(t,e){t.article=e},setArticleInfo:function(t,e){t.articleInfo=e}}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"articleList"},t._l(t.showArticle.stories,function(e){return s("div",{staticClass:"list"},[s("div",{staticClass:"story",on:{click:function(s){t.showArticlePage(e.id)}}},[s("span",{staticClass:"titletext"},[t._v(t._s(e.title)+" ")]),t._v(" "),s("img",{staticClass:"articleListimage",attrs:{src:e.images}})])])}))},staticRenderFns:[]};var m={data:function(){return{themeList:[]}},methods:{getThemes:function(){var t=this;r.a.get("https://zhihu-daily.leanapp.cn/api/v1/themes").then(function(e){t.themeList=e.data.THEMES.others})},showBackground:function(t,e){var s=this;this.$store.commit("setCurrentIndex",t),r.a.get("https://zhihu-daily.leanapp.cn/api/v1/themes/"+e).then(function(t){s.$store.commit("setArticle",t.data.THEMEDES),s.$store.commit("setShowSideBar")})},showHome:function(){var t=this;this.currentIndex=-1,r.a.get("https://zhihu-daily.leanapp.cn/api/v1/last-stories").then(function(e){t.$store.commit("setArticle",e.data.STORIES),t.$store.commit("setShowSideBar")})},hideSide:function(){this.$store.commit("setShowSideBar"),this.$store.commit("setHomeHidden")}},mounted:function(){this.getThemes()},computed:{showSide:function(){return this.$store.state.showSide},currentIndex:function(){return this.$store.state.currentIndex}},components:{}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sideBar"},[s("transition",{attrs:{name:"el-zoom-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSide,expression:"showSide"}],staticClass:"sideBar-content"},[s("div",{staticClass:"user"},[s("div",{staticClass:"avatar"},[s("img",{staticClass:"image",attrs:{src:"https://avatars1.githubusercontent.com/u/12209706?s=460&v=4"}})]),t._v(" "),s("div",{staticClass:"username"},[t._v("Kisarigi")])]),t._v(" "),s("div",{staticClass:"menu-list"},[s("div",{staticClass:"backhome",class:{background:-1===t.currentIndex},on:{click:function(e){t.showHome()}}},[t._v("首页\n        ")]),t._v(" "),t._l(t.themeList,function(e,n){return s("div",{class:{background:n===t.currentIndex},on:{click:function(s){t.showBackground(n,e.id)}}},[s("div",{staticClass:"backhome"},[t._v(t._s(e.name))])])})],2)])]),t._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSide,expression:"showSide"}],staticClass:"mask",on:{click:t.hideSide}})])],1)},staticRenderFns:[]};var v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper"},[s("el-carousel",{attrs:{interval:3e3,arrow:"never",height:"250px"}},t._l(t.showTop,function(e){return s("el-carousel-item",{key:e},[s("h3",[t._v(t._s(e.title))]),t._v(" "),s("img",{staticClass:"topimage",attrs:{src:e.image}})])}))],1)},staticRenderFns:[]};var f={data:function(){return{}},methods:{showSideBar:function(){this.$store.commit("setShowSideBar")},getTopThemes:function(){var t=this;r.a.get("https://zhihu-daily.leanapp.cn/api/v1/last-stories").then(function(e){t.$store.commit("setTopThemes",e.data.STORIES.top_stories),t.$store.commit("setArticle",e.data.STORIES)})}},mounted:function(){this.getTopThemes()},computed:{homeHidden:function(){return this.$store.state.homeHidden},showBoth:function(){return this.$store.state.showBoth}},components:{articleList:s("VU/8")({data:function(){return{allArticle:[]}},methods:{showArticlePage:function(t){this.$router.push("/article/"+t),this.$store.commit("setArticleId",t)}},computed:{showArticle:function(){return this.$store.state.article}},mounted:function(){}},u,!1,function(t){s("yJPY")},null,null).exports,sideBar:s("VU/8")(m,d,!1,function(t){s("rgGU")},null,null).exports,swiper:s("VU/8")({data:function(){return{topThemes:[]}},methods:{},computed:{showTop:function(){return this.$store.state.topThemes}},mounted:function(){}},v,!1,function(t){s("ncTH")},null,null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("div",{staticClass:"home-content"},[e("div",{staticClass:"header"},[e("i",{staticClass:"el-icon-menu",on:{click:this.showSideBar}}),this._v(" "),e("div",{staticClass:"text"},[this._v("知乎日报")]),this._v(" "),e("i",{staticClass:"el-icon-more",on:{click:this.showSetting}})]),this._v(" "),e("sideBar"),this._v(" "),e("swiper"),this._v(" "),e("articleList")],1)])},staticRenderFns:[]};var _=s("VU/8")(f,p,!1,function(t){s("k8aa")},null,null).exports,C={data:function(){return{articleInfo:"",commentsNum:0,thinkGoodNum:0}},methods:{back:function(){history.go(-1)},getArticleInfo:function(){var t=this;r.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$store.state.articleId).then(function(e){t.articleInfo=e.data.CONTENTS}),r.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/extra/"+this.$store.state.articleId).then(function(e){t.commentsNum=e.data.DES.comments,t.thinkGoodNum=e.data.DES.popularity,t.$store.commit("setArticleInfo",e.data.DES)})},showComments:function(){this.$router.push("/article/comments/"+this.$store.state.articleId)}},mounted:function(){this.getArticleInfo()},computed:{},components:{}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home1"},[s("div",{staticClass:"home-content"},[s("div",{staticClass:"header"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){t.back()}}}),t._v(" "),s("div",{staticClass:"text"},[t._v("文章详情")]),t._v(" "),s("i",{staticClass:"el-icon-edit-outline",on:{click:t.showComments}},[s("span",{staticClass:"qipao"},[t._v(t._s(this.commentsNum)+"  ")])]),t._v(" "),s("i",{staticClass:"el-icon-caret-top"},[s("span",{staticClass:"goodNum"},[t._v(t._s(this.thinkGoodNum)+" ")])])]),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("img",{staticClass:"articleimg",attrs:{src:this.articleInfo.image}}),t._v(" "),s("div",{staticClass:"article",domProps:{innerHTML:t._s(this.articleInfo.body)}})])])])},staticRenderFns:[]};var w=s("VU/8")(C,g,!1,function(t){s("h+GN")},null,null).exports,I={data:function(){return{longCommentsInfo:[],shortCommentsInfo:[]}},methods:{back:function(){history.go(-1)},getLong:function(){var t=this;r.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$store.state.articleId+"/long-comments").then(function(e){t.longCommentsInfo=e.data.COMMENTS.comments}),r.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$store.state.articleId+"/short-comments").then(function(e){t.shortCommentsInfo=e.data.COMMENTS.comments})}},mounted:function(){this.getLong()},computed:{commentsNum:function(){return this.$store.state.articleInfo}},components:{}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home1"},[s("div",{staticClass:"home-content"},[s("div",{staticClass:"header"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){t.back()}}})]),t._v(" "),s("div",{staticClass:"comments"},[s("el-collapse",{attrs:{accordion:""}},[s("el-collapse-item",[s("template",{slot:"title"},[t._v("\n           长评论"+t._s(this.commentsNum.long_comments)+"条\n           ")]),t._v(" "),t._l(t.longCommentsInfo,function(e){return s("div",[s("div",{staticClass:"mainContent"},[s("div",{staticClass:"theAvatarContent"},[s("img",{staticClass:"theAvatar",attrs:{src:e.avatar}})]),t._v(" "),s("span",{staticClass:"author"},[t._v(t._s(e.author))]),t._v(" "),s("div",{staticClass:"theContent"},[t._v(t._s(e.content))])])])})],2),t._v(" "),s("el-collapse-item",[s("template",{slot:"title"},[t._v("\n           短评论"+t._s(this.commentsNum.short_comments)+"条\n           ")]),t._v(" "),t._l(t.shortCommentsInfo,function(e){return s("div",[s("div",{staticClass:"mainContent"},[s("div",{staticClass:"theAvatarContent"},[s("img",{staticClass:"theAvatar",attrs:{src:e.avatar}})]),t._v(" "),s("span",{staticClass:"author"},[t._v(t._s(e.author))]),t._v(" "),s("div",{staticClass:"theContent"},[t._v(t._s(e.content))])])])})],2)],1)],1)])])},staticRenderFns:[]};var $=s("VU/8")(I,S,!1,function(t){s("TKsc")},null,null).exports;n.default.use(o.a);var T=new o.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"homePage",component:_},{path:"/article/:id",name:"article",component:w},{path:"/article/comments/(\\d+)",name:"comments",component:$}]}),k=s("i9nl"),x=s.n(k);s("c3k3");n.default.use(x.a),n.default.use(T),new n.default({el:"#app",router:T,store:h,template:"<App/>",components:{App:a}})},TKsc:function(t,e){},c3k3:function(t,e){},"h+GN":function(t,e){},k8aa:function(t,e){},ncTH:function(t,e){},"q/Cf":function(t,e){},rgGU:function(t,e){},yJPY:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d492b4e64890de8258b6.js.map