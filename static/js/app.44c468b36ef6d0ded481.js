webpackJsonp([1],{J4vh:function(t,e){},LgrO:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]};var o=s("VU/8")({name:"app"},n,!1,function(t){s("zspQ")},null,null).exports,a=s("/ocq"),r=s("2sCs"),c=s.n(r),l=s("9rMa");i.default.use(l.a);var h=new l.a.Store({state:{articleId:"",showSide:!1,homeHidden:!1,currentIndex:-1,topThemes:[],themeList:[],article:[],themeListId:0,articleInfo:[]},getters:{},mutations:{setArticleId:function(t,e){t.articleId=e},setThemeListId:function(t,e){t.themeListId=e},setShowSideBar:function(t){t.showSide=!t.showSide},setHomeHidden:function(t){t.homeHidden=!t.homeHidden},setCurrentIndex:function(t,e){t.currentIndex=e},setTopThemes:function(t,e){t.topThemes=e},setArticle:function(t,e){t.article=e},setArticleInfo:function(t,e){t.articleInfo=e}}}),u={data:function(){return{allArticle:[],showButton:!1}},methods:{getNextDay:function(){var t=this;c.a.get("https://zhihu-daily.leanapp.cn/api/v1/before-stories/"+this.getLastTime).then(function(e){t.$store.commit("setArticle",e.data.STORIES),window.scrollTo(0,0)})},showArticlePage:function(t){this.$router.push("/article/"+t),this.$store.commit("setArticleId",t)},handleScroll:function(){(document.documentElement.clientHeight||document.body.clientHeight)+(document.documentElement.scrollTop||document.body.scrollTop)==(document.documentElement.scrollHeight||document.body.scrollHeight)?-1==this.$store.state.currentIndex&&(this.showButton=!0):this.showButton=!1}},computed:{showArticle:function(){return this.$store.state.article},getLastTime:function(){return this.$store.state.article.date},getListTime:function(){if(-1!=this.$store.state.currentIndex)return"今日日报";var t=this.$store.state.article.date;return"string"==typeof t?t.slice(4,6)+"月"+t.slice(6,8)+"日  消息日报":void 0}},mounted:function(){window.addEventListener("scroll",this.handleScroll)}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"aaa"}},[s("div",{staticClass:"listTime"},[t._v(t._s(t.getListTime))]),t._v(" "),s("div",{staticClass:"articleList"},[t._l(t.showArticle.stories,function(e){return s("div",{staticClass:"list"},[s("div",{staticClass:"story",on:{click:function(s){t.showArticlePage(e.id)}}},[s("span",{staticClass:"titletext"},[t._v(t._s(e.title))]),t._v(" "),s("img",{staticClass:"articleListimage",attrs:{src:e.images}})])])}),t._v(" "),s("transition",{attrs:{name:"el-zoom-in-bottom"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],staticClass:"next1",attrs:{type:"primary",icon:"el-icon-caret-bottom"},on:{click:t.getNextDay}})],1)],2)])},staticRenderFns:[]};var d={data:function(){return{themeList:[]}},methods:{getThemes:function(){var t=this;c.a.get("https://zhihu-daily.leanapp.cn/api/v1/themes").then(function(e){t.themeList=e.data.THEMES.others})},showBackground:function(t,e){var s=this;this.$store.commit("setCurrentIndex",t),c.a.get("https://zhihu-daily.leanapp.cn/api/v1/themes/"+e).then(function(t){s.$store.commit("setArticle",t.data.THEMEDES),s.$store.commit("setShowSideBar")})},showHome:function(){var t=this;this.$store.commit("setCurrentIndex",-1),c.a.get("https://zhihu-daily.leanapp.cn/api/v1/last-stories").then(function(e){t.$store.commit("setArticle",e.data.STORIES),t.$store.commit("setShowSideBar")})},hideSide:function(){this.$store.commit("setShowSideBar"),this.$store.commit("setHomeHidden")}},mounted:function(){this.getThemes()},computed:{showSide:function(){return this.$store.state.showSide},currentIndex:function(){return this.$store.state.currentIndex}},components:{}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sideBar"},[s("transition",{attrs:{name:"el-zoom-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSide,expression:"showSide"}],staticClass:"sideBar-content"},[s("div",{staticClass:"user"},[s("div",{staticClass:"avatar"},[s("img",{staticClass:"image",attrs:{src:"https://avatars1.githubusercontent.com/u/12209706?s=460&v=4"}})]),t._v(" "),s("div",{staticClass:"username"},[t._v("Kisarigi")])]),t._v(" "),s("div",{staticClass:"menu-list"},[s("div",{staticClass:"backhome",class:{background:-1===t.currentIndex},on:{click:function(e){t.showHome()}}},[t._v("最新日报\n        ")]),t._v(" "),t._l(t.themeList,function(e,i){return s("div",{class:{background:i===t.currentIndex},on:{click:function(s){t.showBackground(i,e.id)}}},[s("div",{staticClass:"backhome"},[t._v(t._s(e.name))])])})],2)])]),t._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSide,expression:"showSide"}],staticClass:"mask",on:{click:t.hideSide}})])],1)},staticRenderFns:[]};var f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSwiper,expression:"showSwiper"}],staticClass:"swiper"},[s("el-carousel",{attrs:{interval:3e3,arrow:"never",height:"250px"}},t._l(t.showTop,function(e){return s("el-carousel-item",{key:e},[s("div",{on:{click:function(s){t.toArticle(e.id)}}},[s("h3",[t._v(t._s(e.title))]),t._v(" "),s("img",{staticClass:"topimage",attrs:{src:e.image}})])])}))],1)},staticRenderFns:[]};var p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.showAuthor(),expression:"showAuthor()"}]},[e("div",{staticClass:"authorBack"},[e("img",{staticClass:"topimage",attrs:{src:this.Author.image}}),this._v(" "),e("div",{staticClass:"authorTitle"},[this._v(this._s(this.Author.description))]),this._v(" "),e("div",{staticClass:"authorText"},[this._v("主题日报主编:")]),this._v(" "),e("div",{staticClass:"flexbox"},this._l(this.Author.editors,function(t){return e("div",{staticClass:"editors"},[e("img",{staticClass:"edavatar",attrs:{src:t.avatar}})])}))])])},staticRenderFns:[]};var _={data:function(){return{}},methods:{showSideBar:function(){this.$store.commit("setShowSideBar"),window.scrollTo(0,0)},getTopThemes:function(){var t=this;c.a.get("https://zhihu-daily.leanapp.cn/api/v1/last-stories").then(function(e){t.$store.commit("setTopThemes",e.data.STORIES.top_stories),t.$store.commit("setArticle",e.data.STORIES)})}},mounted:function(){this.getTopThemes()},computed:{homeHidden:function(){return this.$store.state.homeHidden},showBoth:function(){return this.$store.state.showBoth}},components:{articleList:s("VU/8")(u,m,!1,function(t){s("LgrO")},null,null).exports,sideBar:s("VU/8")(d,v,!1,function(t){s("Rg1N")},null,null).exports,swiper:s("VU/8")({data:function(){return{topThemes:[]}},methods:{toArticle:function(t){this.$router.push("/article/"+t),this.$store.commit("setArticleId",t)}},computed:{showTop:function(){return this.$store.state.topThemes},showSwiper:function(){return-1===this.$store.state.currentIndex}},mounted:function(){}},f,!1,function(t){s("oB7f")},null,null).exports,author:s("VU/8")({data:function(){return{Author:[]}},methods:{getAuthor:function(){this.Author=this.$store.state.article},showAuthor:function(){return-1!==this.$store.state.currentIndex&&(this.getAuthor(),!0)}},computed:{},mounted:function(){}},p,!1,function(t){s("q8Qs")},null,null).exports}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("div",{staticClass:"home-content"},[e("div",{staticClass:"header"},[e("i",{staticClass:"el-icon-menu",on:{click:this.showSideBar}}),this._v(" "),e("div",{staticClass:"text"},[this._v("知乎日报")]),this._v(" "),e("i",{staticClass:"el-icon-more",on:{click:this.showSetting}})]),this._v(" "),e("sideBar"),this._v(" "),e("swiper"),this._v(" "),e("author"),this._v(" "),e("articleList")],1)])},staticRenderFns:[]};var C=s("VU/8")(_,g,!1,function(t){s("QFwJ")},null,null).exports,w={data:function(){return{articleInfo:"",commentsNum:0,thinkGoodNum:0}},methods:{back:function(){history.go(-1)},getArticleInfo:function(){var t=this;c.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$store.state.articleId).then(function(e){t.articleInfo=e.data.CONTENTS}),c.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/extra/"+this.$store.state.articleId).then(function(e){t.commentsNum=e.data.DES.comments,t.thinkGoodNum=e.data.DES.popularity,t.$store.commit("setArticleInfo",e.data.DES)})},showComments:function(){this.$router.push("/article/comments/"+this.$store.state.articleId)}},mounted:function(){this.getArticleInfo()},computed:{},components:{},deactivated:function(){this.$destroy()}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home1"},[s("div",{staticClass:"home-content"},[s("div",{staticClass:"header"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){t.back()}}}),t._v(" "),s("div",{staticClass:"text"},[t._v("文章详情")]),t._v(" "),s("i",{staticClass:"el-icon-edit-outline",on:{click:t.showComments}},[s("span",{staticClass:"qipao"},[t._v(t._s(this.commentsNum)+"  ")])]),t._v(" "),s("i",{staticClass:"el-icon-caret-top"},[s("span",{staticClass:"goodNum"},[t._v(t._s(this.thinkGoodNum)+" ")])])]),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("img",{staticClass:"articleimg",attrs:{src:this.articleInfo.image}}),t._v(" "),s("div",{staticClass:"article",domProps:{innerHTML:t._s(this.articleInfo.body)}})])])])},staticRenderFns:[]};var $=s("VU/8")(w,I,!1,function(t){s("Y8Pl")},null,null).exports,S={data:function(){return{longCommentsInfo:[],shortCommentsInfo:[]}},methods:{back:function(){history.go(-1)},getLong:function(){var t=this;c.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$store.state.articleId+"/long-comments").then(function(e){t.longCommentsInfo=e.data.COMMENTS.comments}),c.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$store.state.articleId+"/short-comments").then(function(e){t.shortCommentsInfo=e.data.COMMENTS.comments})},timetrans:function(t){return(t=new Date(1e3*t)).getFullYear()+"年"+((t.getMonth()+1<10?+(t.getMonth()+1):t.getMonth()+1)+"月")+((t.getDate()<10?+t.getDate():t.getDate())+"日  ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}},mounted:function(){this.getLong()},computed:{commentsNum:function(){return this.$store.state.articleInfo}},components:{},deactivated:function(){this.$destroy()}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home1"},[s("div",{staticClass:"home-content"},[s("div",{staticClass:"header"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){t.back()}}})]),t._v(" "),s("div",{staticClass:"comments"},[s("el-collapse",{attrs:{accordion:""}},[s("el-collapse-item",[s("template",{slot:"title"},[t._v("\n           长评论"+t._s(this.commentsNum.long_comments)+"条\n           ")]),t._v(" "),t._l(t.longCommentsInfo,function(e){return s("div",[s("div",{staticClass:"mainContent"},[s("div",{staticClass:"theAvatarContent"},[s("img",{staticClass:"theAvatar",attrs:{src:e.avatar}})]),t._v(" "),s("span",{staticClass:"author"},[t._v(t._s(e.author))]),t._v(" "),s("div",{staticClass:"likes"},[s("i",{staticClass:"el-icon-arrow-up"}),t._v(t._s(e.likes))]),t._v(" "),s("div",{staticClass:"theContent"},[t._v(t._s(e.content))]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(t.timetrans(e.time)))])])])})],2),t._v(" "),s("el-collapse-item",[s("template",{slot:"title"},[t._v("\n           短评论"+t._s(this.commentsNum.short_comments)+"条\n           ")]),t._v(" "),t._l(t.shortCommentsInfo,function(e){return s("div",[s("div",{staticClass:"mainContent"},[s("div",{staticClass:"theAvatarContent"},[s("img",{staticClass:"theAvatar",attrs:{src:e.avatar}})]),t._v(" "),s("span",{staticClass:"author"},[t._v(t._s(e.author))]),t._v(" "),s("div",{staticClass:"likes"},[s("i",{staticClass:"el-icon-arrow-up"}),t._v(t._s(e.likes))]),t._v(" "),s("div",{staticClass:"theContent"},[t._v(t._s(e.content))]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(t.timetrans(e.time)))])])])})],2)],1)],1)])])},staticRenderFns:[]};var x=s("VU/8")(S,T,!1,function(t){s("J4vh")},null,null).exports;i.default.use(a.a);var k=new a.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"homePage",component:C},{path:"/article/:id",name:"article",component:$},{path:"/article/comments/(\\d+)",name:"comments",component:x}]}),A=s("i9nl"),E=s.n(A);s("c3k3");i.default.use(E.a),i.default.use(k),new i.default({el:"#app",router:k,store:h,template:"<App/>",components:{App:o}})},QFwJ:function(t,e){},Rg1N:function(t,e){},Y8Pl:function(t,e){},c3k3:function(t,e){},oB7f:function(t,e){},q8Qs:function(t,e){},zspQ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.44c468b36ef6d0ded481.js.map